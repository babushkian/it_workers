План работ:
- отладить дату рождения. Сделать ее через timestamp, чтобы не было слепых дней (29-31 числа месяца).
- отладить увольнение на пенсию и смерть сотрудников. Как то слишком редко они умирают.
- сделать увольнение и прием на работу двумя разными действиями. Чтобы эти события зачислялись в
разные поля таблиц.
- сделать постепенное открытие фирм, а не все таблицы из списка разом. Тем более изначально в
списке названий фирм их слишком много, мне столько не нужно.


20.04.2022
Когда человек становился взрослым и начинал работу, не делалась запись в базу о том, что он повышен
с безработного до работника. Исправил.

При запуске подсчета статистики по уже имеющейся базе в колонке "опыт" выдает очтрицательные числа.
Потому-что опыт считается как разность текущей даты и дня начала работы. Но при потсчете статистики
о последнем дне симуляции ничего неизвестно. Нужно добавить табличку с одной записью: последним днем
работы.
Табличку я добавил. В свойствах поля прописалл, что оно должно автоматически добавлять текуюую дату
при обновлении таблицы, но не нашел, как можно обновлять запись, все поля которой присваиваются
автоматически. В общем, обновляю дату явно.
Что нельзя вывести опыт работы человека через метод объекта. Так как во время подсчета статистики
половина свойств класса не работает. При обращении к таблице через класс достаются только те данные,
которые есть в таблице (и стандартные методы, __repr__, например). А связывать единственную запись
о дате с каждым человеком я не хочу.

Нужно разобраться с выходом на пенсию все таки.
Исправил, там была проблема, что в проверках на смерть и на пенсию не хватало одного условия.
Но и сейчас не все в порядке. Я смотрю, нет ни одного случая, что человек бы вышел на пенсию,
а потом умер. В базе указывается, что у во всех записях даты смерти и даты выхода на пенсию
совпадают. Возможно после выхода на пенсию проверка на смерть перестает выполняться.


21.04.2022
Исправил ошибку, когда дата смерти всегда совпадала с датой выхода на пенсию. Дело в том, что при
наступлении смерти я всегда "увольнял" сотрудника, даже не проверяя, может он уже на пенсии.

Нужно сделать так, чтобы фирмы возникали не все сразу, а постепенно. Для начала сделал новую
табличку, содержащую все имена фирм.
Сделал так, что сначала инициируются 6 фирм, а потом с некоторй вероятностью появляются новые.
Фирмы действительно появляются. И отмечается дата появления новой фирмы. Но есть проблема. Сотрудники
оказываются не привязаны ни к какой фирме. Программа не падает, просто поля, где должны быть указаны
идентификаторы фирмы остаются пустые. Видимо потому, что старый метод генерации, к какой фирме
привязан человек я удалил, а новый не создал.
Теперь создал, работает корректно. Теперь надо программу, собирающую статистику переделывать.
Но это завтра.

Нужно еще для молодых сделать, чтобы фирам на ними закреплялась не при рождении, а в тот момент,
когда они начинают работать. А то уогда появляются новые фирмы, за ними никто не закреплен, все
взрослеют и идут в первоначальные.
Вообще, все в начале симуляции должны быть безработные. И только когда идут на работу, должны
определять для себя фирму.

25.04.2022
Сделал так, что по умлочанию id фирмы человеку не присваивается. Пока он молодой. это поле равно
None. Только после устройства на работу поле заполняется.
Нужно еще очищать id фирмы после выхода на пенсию. Сейчас поле называется last_firm_id, а надо
переименовать в current_firm_id.
Надо сделать отбельную фирму для безработных - "безработный", а то проблемы возникают с отображение
профиля человека. ьам от человека через отнощение идет отсылка к фирме, а через чирму к названию
фирмы. Если фирма==None, возникает ошибка.
Та кже выделение места под отсутствие работы решает вопрос с записями в таблицу people_firms - о
том, что человек уволился. Если бы там стоял None в поле фирмыЮ было бы странно.
Нонужно дополнительно смотреть, чтобы случайно не возникла фирма с идентификатором безработного.
Тем более возникают записи о людях, которы имеют идентификатор фирмы 1: "безработный", при том, что
они взрослые, но езе не на пенсии. То есть гарантированно работают.
Понял, опять я спутал id фирмы и id названия фирмы. Нужно отдельно создавать фирму для безработных,
а не в перовой генерации фирм.
Назначение фейковой фирмы для безработных еще и тем хорошо, что они могут уволиться с использованием
метода перехода в другую фирму. Главное, не давать людям повышение по должности, пока они нигде не
работают.

Когда пережелал, увидел, что неправильно определяется выход человека на пенсию
Нужно переделать функцию average_retire_age. Видимо там некорректное сравнение с датой смерти,
которая равна None.

27.04.2022
Логика директора:
- При образовании фирмы у нее сразу есть директор.
- при увольнении директора следующим директором становится человек с наибольшей должностью и с
наибольшим опытом. Возможно, еще талант сюда стоит добавить.
- При устройстве на следующую работу директор не может быть директором

По расширению фирм:
если количество людей в фирме больше 15, она может расширяться не более чем на 25% в год. То есть
в начале года определяется количество сотрудников и ставится цель по вакансиям. Если вакансий много,
фирма берет кандидатов более охотно. Допустим: 50% процентов базового шанса, при незаполненных
вакансиях и 0% при заполненном штате. Нбазовый шанс должен модифицироваться талантом и опытом. Ну и
еще надо оценивать сответствие между должностью и опытом. Если опыта мало, а челове претендует на
высокую должность, то вероятность устроиться меньше.

Если человек долго не может устроиться на работу, он начинает понижать планку: мдет в фирмы с плохим
рейтингом, а потом понижает должность, на которую он претендует.

Рейтинг можно считать как среднее талант умножить на должность по сотрудникам. Чтобы
высокопоставленные струдники вносили больший вклад в рейтинг фирмы.
При этом, чем выше рейтинг, тем выше тербования при приеме на работу.

30.04.2022
Сделал присвоение директоров к фирмам. Это непросто получилось. Сначала создаются и инициируются
люди. Все они безработные (приписаны к фирме 1 и имеют лолжность 1). ЗАписи о них в базу не
делаются. Затем фирмам присваиваются директора. А после этого все остальные назначаются в фирмы.
Если человек несовершеннолетний, то делается запись, что он безработный. Так получается, что каждый
человек имеет по одной записи в базу первый день.
Сделано это для того, Чтобы в один день не делалось несколько записей о человеке. Сначала он был
приписан к фирме такой-то но тут же стал директором и переписался на другую фирму. Такие записи в
базе тяжело интерпретировать. Так получается что человек директор в двух фирмах. Но в первой записи
он не был директором.
